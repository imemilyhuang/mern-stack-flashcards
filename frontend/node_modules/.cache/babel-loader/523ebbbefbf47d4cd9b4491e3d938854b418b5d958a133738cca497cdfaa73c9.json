{"ast":null,"code":"var _jsxFileName = \"/Users/emilyh/workspace/washu/cse330s/creative-project-cp-518897-520021/frontend/src/components/HomePage.js\",\n  _s = $RefreshSig$();\n// cite https://github.com/mongodb-developer/mern-stack-example/blob/main/mern/client/src/components/RecordList.jsx for \n\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlashcardSet = props => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"card-form\",\n  style: {\n    padding: \"1rem\",\n    borderStyle: \"solid\",\n    borderWidth: 2,\n    borderColor: \"#dbdbdb\",\n    borderRadius: 6,\n    marginBottom: \"2rem\"\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n    children: props.flashcardset.title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this), props.flashcardset.description, /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      gap: 15\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/review/${props.flashcardset._id}`,\n        style: {\n          color: \"white\"\n        },\n        children: \"Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/quiz/${props.flashcardset._id}`,\n        style: {\n          color: \"white\"\n        },\n        children: \"Quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/edit/${props.flashcardset._id}`,\n        style: {\n          color: \"white\"\n        },\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        props.deleteSet(props.flashcardset._id);\n      },\n      style: {\n        color: \"white\"\n      },\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n_c = FlashcardSet;\nexport default function SetList() {\n  _s();\n  const [flashcardsets, setSets] = useState([]);\n\n  // this method fetches the sets from the database\n  useEffect(() => {\n    async function getSets() {\n      let userId = localStorage.getItem('userId');\n      const response = await fetch(`http://localhost:5050/api/flashcards/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (!response.ok) {\n        const message = `An error occurred: ${response.statusText}`;\n        console.error(message);\n        return;\n      }\n      const flashcardsets = await response.json();\n      setSets(flashcardsets);\n    }\n    getSets();\n    return;\n  }, [flashcardsets.length]);\n\n  // this method will delete a set\n  async function deleteSet(id) {\n    try {\n      const response = await fetch(`http://localhost:5050/api/flashcards/${id}`, {\n        method: \"GET\"\n      });\n      if (!response.ok) {\n        throw new Error('Failed to create flashcard set');\n      }\n      const data = await response.json();\n      if (data._id) {\n        try {\n          await fetch(`http://localhost:5050/api/flashcards/deleteSet/${data._id}`, {\n            method: \"DELETE\",\n            body: JSON.stringify({\n              setId: data._id\n            })\n          });\n        } catch (error) {\n          console.error(error);\n          alert('Error deleting set when posting');\n        }\n      } else {\n        alert('Error with ID when deleting set');\n      }\n    } catch (error) {\n      console.error(error);\n      alert('Error deleting set');\n    }\n    const newSets = flashcardsets.filter(el => el._id !== id);\n    setSets(newSets);\n  }\n\n  // map sets to table\n  function setList() {\n    return flashcardsets.map(flashcardset => {\n      return /*#__PURE__*/_jsxDEV(FlashcardSet, {\n        flashcardset: flashcardset,\n        deleteSet: () => deleteSet(flashcardset._id)\n      }, flashcardset._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this);\n    });\n  }\n\n  // show table of user's sets\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"white-container\",\n      style: {\n        paddingBottom: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Flashcard Sets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        children: flashcardsets.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-flashcards\",\n          children: \"You don't have any flashcard sets yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this) : setList()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n_s(SetList, \"wt0cT5ThZikdlWrWVqGCcFUQbok=\");\n_c2 = SetList;\nvar _c, _c2;\n$RefreshReg$(_c, \"FlashcardSet\");\n$RefreshReg$(_c2, \"SetList\");","map":{"version":3,"names":["useEffect","useState","Link","jsxDEV","_jsxDEV","FlashcardSet","props","className","style","padding","borderStyle","borderWidth","borderColor","borderRadius","marginBottom","children","flashcardset","title","fileName","_jsxFileName","lineNumber","columnNumber","description","display","flexDirection","gap","type","to","_id","color","onClick","deleteSet","_c","SetList","_s","flashcardsets","setSets","getSets","userId","localStorage","getItem","response","fetch","method","headers","ok","message","statusText","console","error","json","length","id","Error","data","body","JSON","stringify","setId","alert","newSets","filter","el","setList","map","paddingBottom","width","_c2","$RefreshReg$"],"sources":["/Users/emilyh/workspace/washu/cse330s/creative-project-cp-518897-520021/frontend/src/components/HomePage.js"],"sourcesContent":["\n\n// cite https://github.com/mongodb-developer/mern-stack-example/blob/main/mern/client/src/components/RecordList.jsx for \n\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst FlashcardSet = (props) => (\n  <div className=\"card-form\" style={{padding: \"1rem\", borderStyle: \"solid\", borderWidth: 2, borderColor: \"#dbdbdb\", borderRadius: 6, marginBottom: \"2rem\"}}>\n    <h4>{props.flashcardset.title}</h4>\n    {props.flashcardset.description}\n    <div style={{display: \"flex\", flexDirection: \"row\", gap: 15}}>\n      <button type=\"button\">\n        <Link to={`/review/${props.flashcardset._id}`} style={{color: \"white\"}}>\n          Review\n        </Link>\n      </button>\n      <button type=\"button\">\n        <Link to={`/quiz/${props.flashcardset._id}`} style={{color: \"white\"}}>\n          Quiz\n        </Link>\n      </button>\n      <button type=\"button\">\n        <Link to={`/edit/${props.flashcardset._id}`} style={{color: \"white\"}}>\n          Edit\n        </Link>\n      </button>\n      <button\n        type=\"button\"\n        onClick={() => {\n          props.deleteSet(props.flashcardset._id);\n        }}\n        style={{color: \"white\"}}\n      >\n        Delete\n      </button>\n    </div>\n  </div>\n);\n\nexport default function SetList() {\n  const [flashcardsets, setSets] = useState([]);\n\n  // this method fetches the sets from the database\n  useEffect(() => {\n    async function getSets() {\n      let userId = localStorage.getItem('userId');\n       const response = await fetch(`http://localhost:5050/api/flashcards/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        }\n      });\n      if (!response.ok) {\n        const message = `An error occurred: ${response.statusText}`;\n        console.error(message);\n        return;\n      }\n      const flashcardsets = await response.json();\n      setSets(flashcardsets);\n    }\n    getSets();\n    return;\n  }, [flashcardsets.length]);\n\n  // this method will delete a set\n  async function deleteSet(id) {\n    try {\n    const response = await fetch(`http://localhost:5050/api/flashcards/${id}`, {\n      method: \"GET\",\n    });  \n      if (!response.ok) {\n        throw new Error('Failed to create flashcard set');\n      }\n\n      const data = await response.json();\n      if (data._id) {\n        try {\n          await fetch(`http://localhost:5050/api/flashcards/deleteSet/${data._id}`, {\n            method: \"DELETE\",\n            body: JSON.stringify({setId: data._id})\n          });\n        }\n        catch (error) {\n          console.error(error);\n        alert('Error deleting set when posting');\n        }\n      } else {\n        alert('Error with ID when deleting set');\n      }\n    } catch (error) {\n      console.error(error);\n      alert('Error deleting set');\n    }\n    const newSets = flashcardsets.filter((el) => el._id !== id);\n    setSets(newSets);\n  }\n\n  // map sets to table\n  function setList() {\n    return flashcardsets.map((flashcardset) => {\n      return (\n        <FlashcardSet\n          flashcardset={flashcardset}\n          deleteSet={() => deleteSet(flashcardset._id)}\n          key={flashcardset._id}\n        />\n      );\n    });\n  }\n\n  // show table of user's sets\n  return (\n    <div>\n      <div className=\"white-container\" style={{paddingBottom: \"1rem\"}}>\n        <h2>Your Flashcard Sets</h2>\n          <div style={{width: \"100%\"}}>\n            {\n              flashcardsets.length === 0 ?\n                <p className=\"no-flashcards\">\n                  You don't have any flashcard sets yet.\n                </p>\n              :\n              setList()\n            }\n          </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}